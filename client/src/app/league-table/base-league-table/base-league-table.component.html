<mat-form-field class="example-full-width">
  <mat-label>Select Season</mat-label>
  <mat-select
    placeholder="Pick one"
    [(value)]="selectedSeason"
    (selectionChange)="onSeasonChange($event.value)">
    @for (season of seasons; track season) {
      <mat-option [value]="season">{{season}}</mat-option>
    }
  </mat-select>
</mat-form-field>

<table
  mat-table
  [dataSource]="leagueTable"
  matSort
  (matSortChange)="onSortChange($event)"
  matSortActive="points"
  matSortDisableClear
  matSortDirection="desc"
  class="mat-elevation-z8">

  <!-- Position Column (Not Sortable) -->
  <ng-container matColumnDef="Position">
    <th mat-header-cell *matHeaderCellDef> Position </th>
    <td mat-cell *matCellDef="let row; let i = index"> {{ i + 1 }} </td>
  </ng-container>

  <!-- Team Column (Sortable) -->
  <ng-container matColumnDef="team_name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Team </th>
    <td mat-cell *matCellDef="let row"> {{ row.team_name }} </td>
  </ng-container>

  <!-- Played Column (Sortable) -->
  <ng-container matColumnDef="matches_played">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Played </th>
    <td mat-cell *matCellDef="let row"> {{ row.matches_played }} </td>
  </ng-container>

  <!-- Win Column (Sortable) -->
  <ng-container matColumnDef="wins">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Win </th>
    <td mat-cell *matCellDef="let row"> {{ row.wins }} </td>
  </ng-container>

  <!-- Loss Column (Sortable) -->
  <ng-container matColumnDef="losses">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Loss </th>
    <td mat-cell *matCellDef="let row"> {{ row.losses }} </td>
  </ng-container>

  <!-- Draw Column (Sortable) -->
  <ng-container matColumnDef="draws">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Draw </th>
    <td mat-cell *matCellDef="let row"> {{ row.draws }} </td>
  </ng-container>

  <!-- Goal Scored Column (Sortable) -->
  <ng-container matColumnDef="goals_scored">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Goal Scored </th>
    <td mat-cell *matCellDef="let row"> {{ row.goals_scored }} </td>
  </ng-container>

  <!-- Goal Conceded Column (Sortable) -->
  <ng-container matColumnDef="goals_conceded">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Goal Conceded </th>
    <td mat-cell *matCellDef="let row"> {{ row.goals_conceded }} </td>
  </ng-container>

  <!-- Goal Difference Column (Sortable) -->
  <ng-container matColumnDef="goal_difference">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Goal Difference </th>
    <td mat-cell *matCellDef="let row"> {{ row.goal_difference }} </td>
  </ng-container>

  <!-- Points Column (Sortable) -->
  <ng-container matColumnDef="points">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Points </th>
    <td mat-cell *matCellDef="let row"> {{ row.points }} </td>
  </ng-container>

  <!-- Header and Row Declarations -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
